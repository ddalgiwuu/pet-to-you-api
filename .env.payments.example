# ============================================================
# Toss Payments Configuration
# ============================================================

# Toss Payments API Base URL
# Production: https://api.tosspayments.com
# Test: https://api.tosspayments.com (same endpoint, different credentials)
TOSS_PAYMENTS_BASE_URL=https://api.tosspayments.com

# Toss Payments Secret Key
# Get from: https://developers.tosspayments.com/my/api-keys
# Format: test_sk_* (test) or live_sk_* (production)
TOSS_PAYMENTS_SECRET_KEY=test_sk_your_secret_key_here

# Toss Payments Client Key (for frontend widget)
# Format: test_ck_* (test) or live_ck_* (production)
TOSS_PAYMENTS_CLIENT_KEY=test_ck_your_client_key_here

# Webhook Secret for signature verification
# Generate a secure random string (32+ characters)
# Example: openssl rand -hex 32
TOSS_PAYMENTS_WEBHOOK_SECRET=your_webhook_secret_here_minimum_32_chars

# ============================================================
# Application Configuration
# ============================================================

# Base URL for payment callbacks (success/fail redirects)
# Development: http://localhost:3000
# Production: https://your-domain.com
APP_BASE_URL=http://localhost:3000

# Payment Success Callback URL (optional, defaults to /payments/success)
# PAYMENT_SUCCESS_URL=/payments/success

# Payment Fail Callback URL (optional, defaults to /payments/fail)
# PAYMENT_FAIL_URL=/payments/fail

# ============================================================
# Cache Configuration
# ============================================================

# Redis connection for payment status caching
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# Payment status cache TTL (seconds)
# PAYMENT_CACHE_TTL=60

# ============================================================
# Security Settings
# ============================================================

# Enable webhook signature verification (recommended: true)
# WEBHOOK_SIGNATURE_VERIFICATION=true

# Maximum webhook retry count
# WEBHOOK_MAX_RETRIES=3

# Webhook timeout (milliseconds)
# WEBHOOK_TIMEOUT=5000

# ============================================================
# Payment Limits
# ============================================================

# Minimum payment amount (KRW)
# PAYMENT_MIN_AMOUNT=100

# Maximum payment amount (KRW)
# PAYMENT_MAX_AMOUNT=10000000

# Refund deadline (hours after payment)
# REFUND_DEADLINE_HOURS=720

# ============================================================
# Database Configuration
# ============================================================

# PostgreSQL connection (if not already configured)
# DB_HOST=localhost
# DB_PORT=5432
# DB_USERNAME=postgres
# DB_PASSWORD=postgres
# DB_NAME=pet_to_you

# ============================================================
# Logging
# ============================================================

# Payment log level (error, warn, info, debug)
# PAYMENT_LOG_LEVEL=info

# Enable payment audit logging
# PAYMENT_AUDIT_ENABLED=true

# ============================================================
# Testing Configuration
# ============================================================

# Enable test mode (uses Toss Payments test credentials)
# PAYMENT_TEST_MODE=true

# Test card number (for Toss Payments sandbox)
# TEST_CARD_NUMBER=4242424242424242
# TEST_CARD_EXPIRY=12/25
# TEST_CARD_CVC=123

# ============================================================
# Notes
# ============================================================

# 1. Get Toss Payments credentials:
#    https://developers.tosspayments.com/my/api-keys

# 2. Test mode vs Production mode:
#    - Test credentials start with test_sk_* and test_ck_*
#    - Production credentials start with live_sk_* and live_ck_*

# 3. Webhook configuration:
#    - Set up webhook URL in Toss Payments dashboard
#    - Format: https://your-domain.com/payments/webhook
#    - Webhook signature verification is REQUIRED in production

# 4. Security best practices:
#    - Never commit credentials to version control
#    - Use different credentials for dev/staging/production
#    - Rotate webhook secret regularly
#    - Enable HTTPS for webhook endpoint in production

# 5. Testing:
#    - Use Toss Payments test credentials for development
#    - Test all payment methods (card, transfer, virtual account)
#    - Test refund scenarios (full and partial)
#    - Test webhook signature verification
