# ============================================================
# Pet to You API - Environment Configuration
# ============================================================

# Application
NODE_ENV=development
PORT=3000
FRONTEND_URL=http://localhost:3000

# ============================================================
# Database Configuration
# ============================================================
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=your_secure_password
DB_DATABASE=pet_to_you
DB_SYNCHRONIZE=false
DB_LOGGING=true

# ============================================================
# Redis Configuration
# ============================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ============================================================
# JWT Authentication (RS256 - Asymmetric Encryption)
# ============================================================
# RSA key pair located in /keys directory
# - Private key: keys/jwt.key (for signing)
# - Public key: keys/jwt.key.pub (for verification)
# Generated with: ssh-keygen -t rsa -b 4096 -m PEM

JWT_ACCESS_TOKEN_TTL=900          # 15 minutes (in seconds)
JWT_REFRESH_TOKEN_TTL=604800      # 7 days (in seconds)

# ============================================================
# Encryption & Security
# ============================================================
ENCRYPTION_MASTER_KEY=your_32_byte_encryption_key_here_change_in_production
BCRYPT_ROUNDS=12

# KMS Configuration (for envelope encryption)
# KMS_KEY_ID=your_kms_key_id
# AWS_REGION=ap-northeast-2

# ============================================================
# OAuth2 - Kakao Login
# ============================================================
# Get credentials from: https://developers.kakao.com
KAKAO_CLIENT_ID=your_kakao_rest_api_key
KAKAO_CLIENT_SECRET=your_kakao_client_secret
KAKAO_CALLBACK_URL=http://localhost:3000/api/v1/auth/kakao/callback

# ============================================================
# OAuth2 - Naver Login
# ============================================================
# Get credentials from: https://developers.naver.com
NAVER_CLIENT_ID=your_naver_client_id
NAVER_CLIENT_SECRET=your_naver_client_secret
NAVER_CALLBACK_URL=http://localhost:3000/api/v1/auth/naver/callback

# ============================================================
# OAuth2 - Apple Sign In
# ============================================================
# Get credentials from: https://developer.apple.com
APPLE_CLIENT_ID=your_apple_service_id
APPLE_TEAM_ID=your_apple_team_id
APPLE_KEY_ID=your_apple_key_id
APPLE_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----
APPLE_CALLBACK_URL=http://localhost:3000/api/v1/auth/apple/callback

# ============================================================
# Rate Limiting & Security
# ============================================================
MAX_LOGIN_ATTEMPTS=5              # Account lockout threshold
LOCKOUT_DURATION=900              # 15 minutes (in seconds)
RATE_LIMIT_TTL=60000             # Rate limit window (1 minute)
RATE_LIMIT_MAX=100               # Max requests per window

# ============================================================
# Email Service (for verification emails)
# ============================================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# SMTP_FROM=noreply@pet-to-you.com

# ============================================================
# Monitoring & Logging
# ============================================================
LOG_LEVEL=debug
ENABLE_AUDIT_LOGGING=true

# ============================================================
# CORS Configuration
# ============================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ============================================================
# Production Security Checklist
# ============================================================
# ✅ Generate strong ENCRYPTION_MASTER_KEY (32+ bytes)
# ✅ Use proper KMS for production (AWS KMS, GCP KMS)
# ✅ Set NODE_ENV=production
# ✅ Disable DB_SYNCHRONIZE in production
# ✅ Configure Redis password
# ✅ Set up HTTPS for all OAuth callbacks
# ✅ Configure proper CORS origins
# ✅ Enable rate limiting in production
# ✅ Set up monitoring and alerting
# ✅ Regular security audits
# ✅ Implement email verification
# ✅ Set up backup and disaster recovery
